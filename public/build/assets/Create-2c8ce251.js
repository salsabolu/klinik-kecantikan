import{u as $,r as f,m as g,o as i,c as r,a as d,b as s,w as x,F,i as M,d as a,h as p,f as j,t as c,g as h,v as b,n as u,e as v,l as I}from"./app-807f60dc.js";import{_ as T}from"./SimpleLayout-91b6f32c.js";import{G as w}from"./PhArrowLeft.vue-872f8b85.js";import{F as z}from"./PhSignOut.vue-98dc8f64.js";import{G as B}from"./PhWarning.vue-0291b903.js";const K={class:"space-y-6"},A={class:"flex items-center justify-between"},E=a("div",null,[a("h1",{class:"text-3xl font-semibold"},"Tambah Layanan"),a("p",{class:"text-gray-600"},"Tambahkan layanan baru ke dalam sistem")],-1),L={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},S={class:"space-y-6"},U={class:"form-control w-full"},G={class:"label"},R=a("span",{class:"label-text"},[p("Nama Layanan "),a("span",{class:"text-red-500"},"*")],-1),H={class:"label-text-alt"},P={key:0,class:"label"},J={class:"label-text-alt text-red-500"},O={key:1,class:"label"},Y=a("span",{class:"label-text-alt text-red-500"},"Nama layanan tidak boleh lebih dari 255 karakter",-1),q=[Y],Q={class:"form-control w-full"},W={class:"label"},X=a("span",{class:"label-text"},"Deskripsi",-1),Z={key:0,class:"label"},aa={class:"label-text-alt text-red-500"},ea={key:1,class:"label"},sa=a("span",{class:"label-text-alt text-red-500"},"Deskripsi tidak boleh lebih dari 1000 karakter",-1),ta=[sa],la={class:"form-control w-full"},na=a("label",{class:"label"},[a("span",{class:"label-text"},[p("Harga "),a("span",{class:"text-red-500"},"*")])],-1),oa={class:"join w-full"},ia=a("span",{class:"join-item btn btn-disabled"},"Rp",-1),ra={key:0,class:"label"},da={class:"label-text-alt text-red-500"},ca={key:1,class:"label"},ua={class:"label-text-alt"},pa={class:"form-control w-full"},_a=a("label",{class:"label"},[a("span",{class:"label-text"},[p("Durasi (Menit) "),a("span",{class:"text-red-500"},"*")])],-1),ma={key:0,class:"label"},ha={class:"label-text-alt text-red-500"},ba=a("div",{class:"label"},[a("span",{class:"label-text-alt"},"Durasi dalam menit (contoh: 30, 60, 90)")],-1),va={class:"card-actions justify-end mt-6"},ka=["disabled"],ya={key:0},fa={key:1},ga={key:0,class:"modal modal-open"},xa={class:"modal-box"},wa={class:"flex items-start gap-2"},Ca=a("p",{class:"text-lg font-semibold mb-4"}," Konfirmasi Perubahan ",-1),Da=a("p",{class:"mt-4"}," Anda telah mengisi beberapa data pada form ini. Jika Anda keluar sekarang, semua data akan hilang. ",-1),Na=a("p",{class:"mt-4"}," Apakah Anda yakin ingin meninggalkan halaman ini tanpa menyimpan? ",-1),Va={class:"modal-action"},za={__name:"Create",props:{errors:Object},setup($a){const e=$({nama_layanan:"",deskripsi:"",harga:"",durasi_menit:""}),l=f({}),_=f(!1),k=g(()=>e.nama_layanan||e.deskripsi||e.harga||e.durasi_menit);g(()=>!e.nama_layanan||(e.nama_layanan||"").length>255||(e.deskripsi||"").length>1e3||!e.harga||e.harga<=0||!e.durasi_menit||e.durasi_menit<=0);const m=n=>{l.value[n]&&delete l.value[n]},y=n=>{(n.key==="-"||n.key==="e"||n.key==="E")&&n.preventDefault()},C=n=>n?`Rp ${new Intl.NumberFormat("id-ID").format(n)}`:"Rp 0",D=()=>{k.value?_.value=!0:window.location.href="/services"},N=()=>{k.value?_.value=!0:window.location.href="/services"},V=()=>{e.post("/services",{onSuccess:()=>{},onError:n=>{l.value=n}})};return(n,t)=>(i(),r(F,null,[d(s(M),{title:"Tambah Layanan"}),d(T,null,{default:x(()=>[a("div",K,[a("div",A,[E,a("button",{onClick:D,type:"button",class:"btn btn-outline"},[d(s(w),{size:20,color:"black",weight:"regular"}),p(" Kembali ")])]),a("div",L,[a("form",{onSubmit:j(V,["prevent"]),class:"p-6 lg:p-8"},[a("div",S,[a("div",U,[a("label",G,[R,a("span",H,c((s(e).nama_layanan||"").length)+"/255",1)]),h(a("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>s(e).nama_layanan=o),class:u(["input input-bordered w-full",{"input-error":l.value.nama_layanan||(s(e).nama_layanan||"").length>255}]),placeholder:"Masukkan nama layanan",maxlength:"255",onInput:t[1]||(t[1]=o=>m("nama_layanan"))},null,34),[[b,s(e).nama_layanan]]),l.value.nama_layanan?(i(),r("div",P,[a("span",J,c(l.value.nama_layanan),1)])):(s(e).nama_layanan||"").length>255?(i(),r("div",O,q)):v("",!0)]),a("div",Q,[a("label",W,[X,a("span",{class:u(["label-text-alt",{"text-red-500":(s(e).deskripsi||"").length>1e3}])},c((s(e).deskripsi||"").length)+"/1000 ",3)]),h(a("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(e).deskripsi=o),class:u(["textarea textarea-bordered w-full",{"textarea-error":l.value.deskripsi||(s(e).deskripsi||"").length>1e3}]),placeholder:"Masukkan deskripsi layanan",rows:"3",maxlength:"1000",onInput:t[3]||(t[3]=o=>m("deskripsi"))},null,34),[[b,s(e).deskripsi]]),l.value.deskripsi?(i(),r("div",Z,[a("span",aa,c(l.value.deskripsi),1)])):(s(e).deskripsi||"").length>1e3?(i(),r("div",ea,ta)):v("",!0)]),a("div",la,[na,a("div",oa,[ia,h(a("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=o=>s(e).harga=o),class:u(["input input-bordered join-item flex-1",{"input-error":l.value.harga}]),placeholder:"0",min:"0",step:"1000",onInput:t[5]||(t[5]=o=>m("harga")),onKeypress:y},null,34),[[b,s(e).harga]])]),l.value.harga?(i(),r("div",ra,[a("span",da,c(l.value.harga),1)])):(i(),r("div",ca,[a("span",ua,c(C(s(e).harga)),1)]))]),a("div",pa,[_a,h(a("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=o=>s(e).durasi_menit=o),class:u(["input input-bordered w-full",{"input-error":l.value.durasi_menit}]),placeholder:"0",min:"0",step:"15",onInput:t[7]||(t[7]=o=>m("durasi_menit")),onKeypress:y},null,34),[[b,s(e).durasi_menit]]),l.value.durasi_menit?(i(),r("div",ma,[a("span",ha,c(l.value.durasi_menit),1)])):v("",!0),ba])]),a("div",va,[a("button",{type:"button",onClick:N,class:"btn btn-outline"}," Batal "),a("button",{type:"submit",class:u(["btn btn-primary",{loading:s(e).processing}]),disabled:s(e).processing},[s(e).processing?(i(),r("span",fa,"Menyimpan...")):(i(),r("span",ya,"Simpan Layanan"))],10,ka)])],32)])]),_.value?(i(),r("div",ga,[a("div",xa,[a("div",wa,[d(s(B),{size:30,color:"currentColor",weight:"regular"}),Ca]),Da,Na,a("div",Va,[a("button",{onClick:t[8]||(t[8]=o=>_.value=!1),class:"btn btn-outline"},[d(s(w),{size:20,color:"currentColor",weight:"regular"}),p(" Tetap di Halaman ")]),d(s(I),{href:"/services",class:"btn btn-error"},{default:x(()=>[d(s(z),{size:20,color:"currentColor",weight:"regular"}),p(" Ya, Keluar ")]),_:1})])])])):v("",!0)]),_:1})],64))}};export{za as default};
