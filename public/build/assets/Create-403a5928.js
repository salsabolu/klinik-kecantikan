import{u as D,r as g,m as x,o as r,c as i,a as d,b as t,w as y,F,i as j,d as e,h as p,f as I,t as u,g as k,v as h,n as c,e as b,l as M}from"./app-807f60dc.js";import{_ as P}from"./SimpleLayout-91b6f32c.js";import{G as w}from"./PhArrowLeft.vue-872f8b85.js";import{F as T}from"./PhSignOut.vue-98dc8f64.js";import{G as z}from"./PhWarning.vue-0291b903.js";const A={class:"w-full mx-auto space-y-6"},B={class:"flex items-center justify-between"},K=e("div",null,[e("h1",{class:"text-3xl font-semibold"},"Tambah Produk"),e("p",{class:"text-gray-600"},"Tambahkan produk baru ke dalam sistem")],-1),S={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},E={class:"space-y-6"},U={class:"form-control w-full"},G={class:"label"},R=e("span",{class:"label-text"},[p("Nama Produk "),e("span",{class:"text-red-500"},"*")],-1),H={class:"label-text-alt"},J={key:0,class:"label"},O={class:"label-text-alt text-red-500"},Y={key:1,class:"label"},q=e("span",{class:"label-text-alt text-red-500"},"Nama produk tidak boleh lebih dari 255 karakter",-1),L=[q],Q={class:"form-control w-full"},W={class:"label"},X=e("span",{class:"label-text"},"Deskripsi",-1),Z={key:0,class:"label"},ee={class:"label-text-alt text-red-500"},se={key:1,class:"label"},te=e("span",{class:"label-text-alt text-red-500"},"Deskripsi tidak boleh lebih dari 1000 karakter",-1),ae=[te],le={class:"form-control w-full"},oe=e("label",{class:"label"},[e("span",{class:"label-text"},[p("Harga "),e("span",{class:"text-red-500"},"*")])],-1),ne={class:"join w-full"},re=e("span",{class:"join-item btn btn-disabled"},"Rp",-1),ie={key:0,class:"label"},de={class:"label-text-alt text-red-500"},ue={key:1,class:"label"},ce={class:"label-text-alt"},pe={class:"form-control w-full"},_e=e("label",{class:"label"},[e("span",{class:"label-text"},[p("Stok Awal "),e("span",{class:"text-red-500"},"*")])],-1),me={key:0,class:"label"},ke={class:"label-text-alt text-red-500"},he={class:"card-actions justify-end mt-8"},be=["disabled"],ve={key:0},fe={key:1},ge={key:0,class:"modal modal-open"},xe={class:"modal-box"},ye={class:"flex items-start gap-2"},we=e("p",{class:"text-lg font-semibold mb-4"}," Konfirmasi Perubahan ",-1),Ce=e("p",{class:"mt-4"}," Anda telah mengisi beberapa data pada form ini. Jika Anda keluar sekarang, semua data akan hilang. ",-1),Ne=e("p",{class:"mt-4"}," Apakah Anda yakin ingin meninggalkan halaman ini tanpa menyimpan? ",-1),Ve={class:"modal-action"},Pe={__name:"Create",props:{errors:Object},setup($e){const s=D({nama_produk:"",deskripsi:"",harga:"",stok:""}),l=g({}),_=g(!1),v=x(()=>s.nama_produk||s.deskripsi||s.harga||s.stok);x(()=>!s.nama_produk||(s.nama_produk||"").length>255||(s.deskripsi||"").length>1e3||!s.harga||s.harga<=0||s.stok===""||s.stok<0);const m=o=>{l.value[o]&&delete l.value[o]},f=o=>{(o.key==="-"||o.key==="e"||o.key==="E")&&o.preventDefault()},C=o=>o?`Rp ${new Intl.NumberFormat("id-ID").format(o)}`:"Rp 0",N=()=>{v.value?_.value=!0:window.location.href="/products"},V=()=>{v.value?_.value=!0:window.location.href="/products"},$=()=>{s.post("/products",{onSuccess:()=>{},onError:o=>{l.value=o}})};return(o,a)=>(r(),i(F,null,[d(t(j),{title:"Tambah Produk"}),d(P,null,{default:y(()=>[e("div",A,[e("div",B,[K,e("button",{onClick:N,type:"button",class:"btn btn-outline"},[d(t(w),{size:20,color:"black",weight:"regular"}),p(" Kembali ")])]),e("div",S,[e("form",{onSubmit:I($,["prevent"]),class:"p-6 lg:p-8"},[e("div",E,[e("div",U,[e("label",G,[R,e("span",H,u((t(s).nama_produk||"").length)+"/255",1)]),k(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>t(s).nama_produk=n),class:c(["input input-bordered w-full",{"input-error":l.value.nama_produk||(t(s).nama_produk||"").length>255}]),placeholder:"Masukkan nama produk...",maxlength:"255",onInput:a[1]||(a[1]=n=>m("nama_produk"))},null,34),[[h,t(s).nama_produk]]),l.value.nama_produk?(r(),i("div",J,[e("span",O,u(l.value.nama_produk),1)])):(t(s).nama_produk||"").length>255?(r(),i("div",Y,L)):b("",!0)]),e("div",Q,[e("label",W,[X,e("span",{class:c(["label-text-alt",{"text-red-500":(t(s).deskripsi||"").length>1e3}])},u((t(s).deskripsi||"").length)+"/1000 ",3)]),k(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=n=>t(s).deskripsi=n),class:c(["textarea textarea-bordered w-full h-32",{"textarea-error":l.value.deskripsi||(t(s).deskripsi||"").length>1e3}]),placeholder:"Masukkan deskripsi produk...",maxlength:"1000",onInput:a[3]||(a[3]=n=>m("deskripsi"))},null,34),[[h,t(s).deskripsi]]),l.value.deskripsi?(r(),i("div",Z,[e("span",ee,u(l.value.deskripsi),1)])):(t(s).deskripsi||"").length>1e3?(r(),i("div",se,ae)):b("",!0)]),e("div",le,[oe,e("div",ne,[re,k(e("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=n=>t(s).harga=n),class:c(["input input-bordered join-item flex-1",{"input-error":l.value.harga}]),placeholder:"0",min:"0",step:"1000",onInput:a[5]||(a[5]=n=>m("harga")),onKeypress:f},null,34),[[h,t(s).harga]])]),l.value.harga?(r(),i("div",ie,[e("span",de,u(l.value.harga),1)])):(r(),i("div",ue,[e("span",ce,u(C(t(s).harga)),1)]))]),e("div",pe,[_e,k(e("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=n=>t(s).stok=n),class:c(["input input-bordered w-full",{"input-error":l.value.stok}]),placeholder:"0",min:"0",onInput:a[7]||(a[7]=n=>m("stok")),onKeypress:f},null,34),[[h,t(s).stok]]),l.value.stok?(r(),i("div",me,[e("span",ke,u(l.value.stok),1)])):b("",!0)])]),e("div",he,[e("button",{type:"button",onClick:V,class:"btn btn-outline"}," Batal "),e("button",{type:"submit",class:c(["btn btn-primary",{loading:t(s).processing}]),disabled:t(s).processing},[t(s).processing?(r(),i("span",fe,"Menyimpan...")):(r(),i("span",ve,"Simpan Produk"))],10,be)])],32)])]),_.value?(r(),i("div",ge,[e("div",xe,[e("div",ye,[d(t(z),{size:30,color:"currentColor",weight:"regular"}),we]),Ce,Ne,e("div",Ve,[e("button",{onClick:a[8]||(a[8]=n=>_.value=!1),class:"btn btn-outline"},[d(t(w),{size:20,color:"currentColor",weight:"regular"}),p(" Tetap di Halaman ")]),d(t(M),{href:"/products",class:"btn btn-error"},{default:y(()=>[d(t(T),{size:20,color:"currentColor",weight:"regular"}),p(" Ya, Keluar ")]),_:1})])])])):b("",!0)]),_:1})],64))}};export{Pe as default};
