import{r as k,m as f,u as y,o,k as w,w as M,d as e,f as C,g as d,v as p,b as a,n as i,c as n,t as r,e as c,p as j,I as B,j as V,h as _,H as P}from"./app-807f60dc.js";import{_ as D}from"./SimpleLayout-91b6f32c.js";const U={class:"space-y-6"},q=e("div",null,[e("h1",{class:"text-3xl font-bold text-base-content"},"Tambah Pasien Baru"),e("p",{class:"text-base-content/60 mt-1"},"Daftarkan pasien baru ke sistem")],-1),A={class:"card bg-base-100 shadow-xl"},S={class:"card-body"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"form-control md:col-span-2"},$=e("label",{class:"label"},[e("span",{class:"label-text"},[_("Nama Lengkap "),e("span",{class:"text-error"},"*")])],-1),z={key:0,class:"label"},N={class:"label-text-alt text-error"},K={class:"form-control"},E=e("label",{class:"label"},[e("span",{class:"label-text"},[_("Tanggal Lahir "),e("span",{class:"text-error"},"*")])],-1),J=["max"],F={key:0,class:"label"},I={class:"label-text-alt text-error"},H={class:"form-control"},O=e("label",{class:"label"},[e("span",{class:"label-text"},[_("Jenis Kelamin "),e("span",{class:"text-error"},"*")])],-1),Y=e("option",{value:""},"Pilih Jenis Kelamin",-1),Z=e("option",{value:"Laki-laki"},"Laki-laki",-1),G=e("option",{value:"Perempuan"},"Perempuan",-1),Q=[Y,Z,G],R={key:0,class:"label"},W={class:"label-text-alt text-error"},X={class:"form-control"},ee={class:"label"},se=e("span",{class:"label-text"},[_("Nomor Telepon "),e("span",{class:"text-error"},"*")],-1),ae={class:"label-text-alt"},te={key:0,class:"label"},le={class:"label-text-alt text-error"},oe={class:"form-control"},ne={class:"label"},re=e("span",{class:"label-text"},"Email",-1),ie={class:"label-text-alt"},ce={key:0,class:"label"},de={class:"label-text-alt text-error"},_e={class:"form-control md:col-span-2"},pe={class:"label"},ue=e("span",{class:"label-text"},[_("Alamat "),e("span",{class:"text-error"},"*")],-1),me={class:"label-text-alt"},he={key:0,class:"label"},be={class:"label-text-alt text-error"},ke=e("div",{class:"divider md:col-span-2"},"Pengaturan Akun",-1),xe={class:"form-control md:col-span-2"},ge={class:"label cursor-pointer"},ve=e("span",{class:"label-text"},"Buat akun pengguna untuk pasien ini",-1),fe=e("div",{class:"label"},[e("span",{class:"label-text-alt text-base-content/60"}," Jika dicentang, pasien dapat login untuk melihat riwayat dan membuat reservasi online ")],-1),ye={key:0,class:"form-control md:col-span-2"},we={class:"label"},Me=e("span",{class:"label-text"},[_("Password Akun "),e("span",{class:"text-error"},"*")],-1),Ce={class:"label-text-alt"},je={class:"relative"},Be=["type","required"],Ve={key:0,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Pe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1),De=[Pe],Ue={key:1,class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},qe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),Ae=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.543 7-1.275 4.057-5.065 7-9.543 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),Se=[qe,Ae],Te=e("div",{class:"label"},[e("span",{class:"label-text-alt text-base-content/60"}," Password hanya boleh mengandung huruf, angka, dan karakter khusus (@$!%*?&_-) ")],-1),Le={key:0,class:"label"},$e={class:"label-text-alt text-error"},ze={class:"form-control mt-8"},Ne={class:"flex gap-4"},Ke=["disabled"],Ee={key:0},Je={key:1},Fe=["disabled"],Ie={key:0,class:"alert alert-info"},He=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Oe=e("span",null,"Email notifikasi pembuatan akun akan dikirim ke alamat email pasien setelah data berhasil disimpan.",-1),Ye=[He,Oe],Ze={class:"modal-box"},Ge=e("h3",{class:"font-bold text-lg"},"Konfirmasi Pembatalan",-1),Qe=e("p",{class:"py-4"}," Apakah Anda yakin ingin membatalkan pendaftaran pasien? Data yang telah diisi akan hilang. ",-1),Re={class:"modal-action"},ss={__name:"Create",setup(We){const u=k(!1),m=k(!1),x=f(()=>new Date().toISOString().split("T")[0]),s=y({nama_lengkap:"",tanggal_lahir:"",jenis_kelamin:"",alamat:"",nomor_telepon:"",email:"",create_user_account:!1,user_password:""}),g=()=>{s.post("/patients",{onSuccess:()=>{}})},h=()=>{s.nama_lengkap||s.tanggal_lahir||s.jenis_kelamin||s.alamat||s.nomor_telepon||s.email||s.user_password?m.value=!0:b()},b=()=>{m.value=!1,P.visit("/patients")};return(v,t)=>(o(),w(D,null,{default:M(()=>[e("div",U,[e("div",{class:"flex items-center justify-between"},[q,e("div",{class:"flex gap-2"},[e("button",{onClick:h,class:"btn btn-outline"}," Kembali ")])]),e("div",A,[e("div",S,[e("form",{onSubmit:C(g,["prevent"])},[e("div",T,[e("div",L,[$,d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>a(s).nama_lengkap=l),type:"text",placeholder:"Masukkan nama lengkap pasien",class:i(["input input-bordered",{"input-error":a(s).errors.nama_lengkap}]),maxlength:"100",required:""},null,2),[[p,a(s).nama_lengkap]]),a(s).errors.nama_lengkap?(o(),n("div",z,[e("span",N,r(a(s).errors.nama_lengkap),1)])):c("",!0)]),e("div",K,[E,d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>a(s).tanggal_lahir=l),type:"date",class:i(["input input-bordered",{"input-error":a(s).errors.tanggal_lahir}]),max:x.value,required:""},null,10,J),[[p,a(s).tanggal_lahir]]),a(s).errors.tanggal_lahir?(o(),n("div",F,[e("span",I,r(a(s).errors.tanggal_lahir),1)])):c("",!0)]),e("div",H,[O,d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>a(s).jenis_kelamin=l),class:i(["select select-bordered",{"select-error":a(s).errors.jenis_kelamin}]),required:""},Q,2),[[j,a(s).jenis_kelamin]]),a(s).errors.jenis_kelamin?(o(),n("div",R,[e("span",W,r(a(s).errors.jenis_kelamin),1)])):c("",!0)]),e("div",X,[e("label",ee,[se,e("span",ae,r(a(s).nomor_telepon.length)+"/15 karakter",1)]),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>a(s).nomor_telepon=l),type:"tel",placeholder:"08xxxxxxxxxx",class:i(["input input-bordered",{"input-error":a(s).errors.nomor_telepon}]),maxlength:"15",required:""},null,2),[[p,a(s).nomor_telepon]]),a(s).errors.nomor_telepon?(o(),n("div",te,[e("span",le,r(a(s).errors.nomor_telepon),1)])):c("",!0)]),e("div",oe,[e("label",ne,[re,e("span",ie,r(a(s).email.length)+"/100 karakter",1)]),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>a(s).email=l),type:"email",placeholder:"nama@email.com",class:i(["input input-bordered",{"input-error":a(s).errors.email}]),maxlength:"100"},null,2),[[p,a(s).email]]),a(s).errors.email?(o(),n("div",ce,[e("span",de,r(a(s).errors.email),1)])):c("",!0)]),e("div",_e,[e("label",pe,[ue,e("span",me,r(a(s).alamat.length)+"/500 karakter",1)]),d(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=l=>a(s).alamat=l),placeholder:"Masukkan alamat lengkap",class:i(["textarea textarea-bordered h-24",{"textarea-error":a(s).errors.alamat}]),maxlength:"500",required:""},null,2),[[p,a(s).alamat]]),a(s).errors.alamat?(o(),n("div",he,[e("span",be,r(a(s).errors.alamat),1)])):c("",!0)]),ke,e("div",xe,[e("label",ge,[ve,d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>a(s).create_user_account=l),type:"checkbox",class:"checkbox checkbox-primary"},null,512),[[B,a(s).create_user_account]])]),fe]),a(s).create_user_account?(o(),n("div",ye,[e("label",we,[Me,e("span",Ce,r(a(s).user_password.length)+"/20 karakter",1)]),e("div",je,[d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>a(s).user_password=l),type:u.value?"text":"password",placeholder:"Minimal 8 karakter, maksimal 20 karakter",class:i(["input input-bordered w-full pr-12",{"input-error":a(s).errors.user_password}]),minlength:"8",maxlength:"20",pattern:"^[a-zA-Z0-9@$!%*?&_-]+$",required:a(s).create_user_account},null,10,Be),[[V,a(s).user_password]]),e("button",{type:"button",onClick:t[8]||(t[8]=l=>u.value=!u.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[u.value?(o(),n("svg",Ve,De)):(o(),n("svg",Ue,Se))])]),Te,a(s).errors.user_password?(o(),n("div",Le,[e("span",$e,r(a(s).errors.user_password),1)])):c("",!0)])):c("",!0)]),e("div",ze,[e("div",Ne,[e("button",{type:"submit",class:i(["btn btn-primary flex-1",{loading:a(s).processing}]),disabled:a(s).processing},[a(s).processing?(o(),n("span",Je,"Menyimpan...")):(o(),n("span",Ee,"Simpan Data Pasien"))],10,Ke),e("button",{type:"button",onClick:h,class:"btn btn-outline",disabled:a(s).processing}," Batal ",8,Fe)])])],32)])]),a(s).create_user_account?(o(),n("div",Ie,Ye)):c("",!0)]),e("div",{class:i(["modal",{"modal-open":m.value}])},[e("div",Ze,[Ge,Qe,e("div",Re,[e("button",{onClick:t[9]||(t[9]=l=>m.value=!1),class:"btn"},"Tidak"),e("button",{onClick:b,class:"btn btn-error"},"Ya, Batalkan")])])],2)]),_:1}))}};export{ss as default};
