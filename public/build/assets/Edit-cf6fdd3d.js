import{r as f,m as y,u as j,o,k as C,w as V,d as e,f as w,t as r,b as t,g as _,v as p,n as c,c as i,e as d,p as M,h as m,H as P}from"./app-807f60dc.js";import{_ as S}from"./SimpleLayout-91b6f32c.js";const B={class:"space-y-6"},T=e("div",null,[e("h1",{class:"text-3xl font-bold text-base-content"},"Edit Data Pasien"),e("p",{class:"text-base-content/60 mt-1"},"Perbarui informasi data pasien")],-1),U={class:"card bg-base-100 shadow-xl"},q={class:"card-body"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N={class:"form-control"},E={class:"label"},L=e("span",{class:"label-text"},[m("Nama Lengkap "),e("span",{class:"text-error"},"*")],-1),A={class:"label-text-alt"},K={key:0,class:"label"},$={class:"label-text-alt text-error"},F={class:"form-control"},O=e("label",{class:"label"},[e("span",{class:"label-text"},[m("Tanggal Lahir "),e("span",{class:"text-error"},"*")])],-1),z=["max"],H={key:0,class:"label"},I={class:"label-text-alt text-error"},J={class:"form-control"},Y=e("label",{class:"label"},[e("span",{class:"label-text"},[m("Jenis Kelamin "),e("span",{class:"text-error"},"*")])],-1),G=e("option",{value:""},"Pilih jenis kelamin",-1),Q=e("option",{value:"Laki-laki"},"Laki-laki",-1),R=e("option",{value:"Perempuan"},"Perempuan",-1),W=[G,Q,R],X={key:0,class:"label"},Z={class:"label-text-alt text-error"},ee={class:"form-control"},ae={class:"label"},te=e("span",{class:"label-text"},[m("Nomor Telepon "),e("span",{class:"text-error"},"*")],-1),se={class:"label-text-alt"},le={key:0,class:"label"},ne={class:"label-text-alt text-error"},oe={class:"form-control"},re={class:"label"},ie=e("span",{class:"label-text"},"Email",-1),ce={class:"label-text-alt"},de={key:0,class:"label"},_e={class:"label-text-alt text-error"},pe={class:"form-control md:col-span-2"},me={class:"label"},ue=e("span",{class:"label-text"},[m("Alamat "),e("span",{class:"text-error"},"*")],-1),he={class:"label-text-alt"},be={key:0,class:"label"},xe={class:"label-text-alt text-error"},ke={class:"flex justify-end gap-4 pt-6"},ge=["disabled"],ve={key:0},fe={key:1},ye={key:0,class:"modal modal-open"},je={class:"modal-box"},Ce=e("h3",{class:"font-bold text-lg"},"Konfirmasi Pembatalan",-1),Ve=e("p",{class:"py-4"}," Apakah Anda yakin ingin membatalkan perubahan? Data yang telah diubah akan hilang. ",-1),we={class:"modal-action"},Se={__name:"Edit",props:{patient:Object},setup(x){const l=x,u=f(!1),k=y(()=>new Date().toISOString().split("T")[0]),a=j({nama_lengkap:l.patient.nama_lengkap,tanggal_lahir:l.patient.tanggal_lahir,jenis_kelamin:l.patient.jenis_kelamin,alamat:l.patient.alamat,nomor_telepon:l.patient.nomor_telepon,email:l.patient.email||""}),g=()=>{a.put(`/patients/${l.patient.id}`,{onSuccess:()=>{}})},h=()=>{a.nama_lengkap!==l.patient.nama_lengkap||a.tanggal_lahir!==l.patient.tanggal_lahir||a.jenis_kelamin!==l.patient.jenis_kelamin||a.alamat!==l.patient.alamat||a.nomor_telepon!==l.patient.nomor_telepon||a.email!==(l.patient.email||"")?u.value=!0:b()},b=()=>{u.value=!1,P.visit("/patients")};return(v,s)=>(o(),C(S,null,{default:V(()=>[e("div",B,[e("div",{class:"flex items-center justify-between"},[T,e("div",{class:"flex gap-2"},[e("button",{onClick:h,class:"btn btn-outline"}," Kembali ")])]),e("div",U,[e("div",q,[e("form",{onSubmit:w(g,["prevent"]),class:"space-y-6"},[e("div",D,[e("div",N,[e("label",E,[L,e("span",A,r((t(a).nama_lengkap||"").length)+"/100 karakter",1)]),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t(a).nama_lengkap=n),type:"text",placeholder:"Masukkan nama lengkap",class:c(["input input-bordered",{"input-error":t(a).errors.nama_lengkap}]),maxlength:"100",required:""},null,2),[[p,t(a).nama_lengkap]]),t(a).errors.nama_lengkap?(o(),i("div",K,[e("span",$,r(t(a).errors.nama_lengkap),1)])):d("",!0)]),e("div",F,[O,_(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>t(a).tanggal_lahir=n),type:"date",max:k.value,class:c(["input input-bordered",{"input-error":t(a).errors.tanggal_lahir}]),required:""},null,10,z),[[p,t(a).tanggal_lahir]]),t(a).errors.tanggal_lahir?(o(),i("div",H,[e("span",I,r(t(a).errors.tanggal_lahir),1)])):d("",!0)]),e("div",J,[Y,_(e("select",{"onUpdate:modelValue":s[2]||(s[2]=n=>t(a).jenis_kelamin=n),class:c(["select select-bordered",{"select-error":t(a).errors.jenis_kelamin}]),required:""},W,2),[[M,t(a).jenis_kelamin]]),t(a).errors.jenis_kelamin?(o(),i("div",X,[e("span",Z,r(t(a).errors.jenis_kelamin),1)])):d("",!0)]),e("div",ee,[e("label",ae,[te,e("span",se,r((t(a).nomor_telepon||"").length)+"/15 karakter",1)]),_(e("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>t(a).nomor_telepon=n),type:"tel",placeholder:"08xxxxxxxxxx",class:c(["input input-bordered",{"input-error":t(a).errors.nomor_telepon}]),maxlength:"15",required:""},null,2),[[p,t(a).nomor_telepon]]),t(a).errors.nomor_telepon?(o(),i("div",le,[e("span",ne,r(t(a).errors.nomor_telepon),1)])):d("",!0)]),e("div",oe,[e("label",re,[ie,e("span",ce,r((t(a).email||"").length)+"/100 karakter",1)]),_(e("input",{"onUpdate:modelValue":s[4]||(s[4]=n=>t(a).email=n),type:"email",placeholder:"nama@email.com",class:c(["input input-bordered",{"input-error":t(a).errors.email}]),maxlength:"100"},null,2),[[p,t(a).email]]),t(a).errors.email?(o(),i("div",de,[e("span",_e,r(t(a).errors.email),1)])):d("",!0)]),e("div",pe,[e("label",me,[ue,e("span",he,r((t(a).alamat||"").length)+"/500 karakter",1)]),_(e("textarea",{"onUpdate:modelValue":s[5]||(s[5]=n=>t(a).alamat=n),placeholder:"Masukkan alamat lengkap",class:c(["textarea textarea-bordered h-24",{"textarea-error":t(a).errors.alamat}]),maxlength:"500",required:""},null,2),[[p,t(a).alamat]]),t(a).errors.alamat?(o(),i("div",be,[e("span",xe,r(t(a).errors.alamat),1)])):d("",!0)])]),e("div",ke,[e("button",{type:"button",onClick:h,class:"btn btn-outline"}," Batal "),e("button",{type:"submit",class:c(["btn btn-primary",{loading:t(a).processing}]),disabled:t(a).processing},[t(a).processing?(o(),i("span",fe,"Menyimpan...")):(o(),i("span",ve,"Simpan Perubahan"))],10,ge)])],32)])])]),u.value?(o(),i("div",ye,[e("div",je,[Ce,Ve,e("div",we,[e("button",{onClick:s[6]||(s[6]=n=>u.value=!1),class:"btn"},"Tidak"),e("button",{onClick:b,class:"btn btn-error"},"Ya, Batalkan")])])])):d("",!0)]),_:1}))}};export{Se as default};
