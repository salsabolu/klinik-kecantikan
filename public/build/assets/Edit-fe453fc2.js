import{i as B,l as C,r as w,u as M,B as A,m as L,G as g,o as n,k as j,w as x,d as o,h as r,f as V,g as p,v as h,n as _,c as l,t as d,e as i,p as K,a as y}from"./app-807f60dc.js";import{A as P}from"./AppLayout-422bcc0a.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./PhCurrencyCircleDollar.vue-370c4c60.js";import"./PhClock.vue-0bcaea51.js";import"./PhFlask.vue-b6585dea.js";import"./PhSignOut.vue-98dc8f64.js";const S={components:{Head:B,Link:C,AppLayout:P},props:{user:Object},setup(t){const s=w(!1),f=w(!1),e=w({}),u=M({name:t.user.name,email:t.user.email,role:t.user.role,password:"",password_confirmation:""});A(()=>{e.value={name:t.user.name,email:t.user.email,role:t.user.role,password:"",password_confirmation:""}});const b=L(()=>{const c=u.data(),m=e.value;return c.name!==m.name||c.email!==m.email||c.role!==m.role||c.password!==m.password||c.password_confirmation!==m.password_confirmation});return{form:u,submit:()=>{u.put(route("users.update",t.user.id),{onSuccess:()=>{}})},showBackModal:s,showCancelModal:f,hasFormData:b,handleBack:()=>{b.value?s.value=!0:window.location.href=route("users.index")},handleCancel:()=>{b.value?f.value=!0:window.location.href=route("users.index")}}}},U={class:"py-12"},D={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},T={class:"p-6 text-gray-900"},q={class:"flex justify-between items-center mb-6"},z=o("h2",{class:"text-2xl font-semibold"},"Edit Pengguna",-1),F=o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),R={class:"form-control"},J=o("label",{class:"label"},[o("span",{class:"label-text"},[r("Nama Lengkap "),o("span",{class:"text-error"},"*")])],-1),O={key:0,class:"label"},Y={class:"label-text-alt text-error"},G={class:"form-control"},H=o("label",{class:"label"},[o("span",{class:"label-text"},[r("Email "),o("span",{class:"text-error"},"*")])],-1),I={key:0,class:"label"},Q={class:"label-text-alt text-error"},W={class:"form-control"},X=o("label",{class:"label"},[o("span",{class:"label-text"},[r("Role "),o("span",{class:"text-error"},"*")])],-1),Z=o("option",{value:""},"Pilih Role",-1),$=o("option",{value:"admin"},"Administrator",-1),oo=o("option",{value:"resepsionis"},"Resepsionis",-1),eo=o("option",{value:"dokter"},"Dokter/Terapis",-1),so=o("option",{value:"manajer_stok"},"Manajer Stok",-1),ao=o("option",{value:"pasien"},"Pasien",-1),to=[Z,$,oo,eo,so,ao],no={key:0,class:"label"},ro={class:"label-text-alt text-error"},lo=o("div",{class:"divider"},"Ubah Password (Opsional)",-1),io={class:"form-control"},co=o("label",{class:"label"},[o("span",{class:"label-text"},"Password Baru")],-1),mo={key:0,class:"label"},po={class:"label-text-alt text-error"},_o={class:"form-control"},uo=o("label",{class:"label"},[o("span",{class:"label-text"},"Konfirmasi Password Baru")],-1),bo={key:0,class:"label"},ho={class:"label-text-alt text-error"},fo={class:"flex justify-end space-x-3 pt-6"},ko=["disabled"],wo={key:0,class:"loading loading-spinner loading-xs"},xo={key:0,class:"modal modal-open"},vo={class:"modal-box"},go=o("h3",{class:"font-bold text-lg mb-4"},[o("svg",{class:"w-6 h-6 inline-block mr-2 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z"})]),r(" Konfirmasi Kembali ")],-1),yo=o("p",{class:"py-4 text-base-content/80"}," Anda telah melakukan beberapa perubahan pada form pengguna ini. Jika Anda keluar sekarang, perubahan tidak akan tersimpan. ",-1),Bo=o("p",{class:"text-sm text-base-content/60 mb-6"}," Apakah Anda yakin ingin kembali tanpa menyimpan perubahan? ",-1),Co={class:"modal-action"},Mo={key:1,class:"modal modal-open"},Ao={class:"modal-box"},Lo=o("h3",{class:"font-bold text-lg mb-4"},[o("svg",{class:"w-6 h-6 inline-block mr-2 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z"})]),r(" Konfirmasi Batal ")],-1),jo=o("p",{class:"py-4 text-base-content/80"}," Anda telah melakukan beberapa perubahan pada form pengguna ini. Jika Anda membatalkan sekarang, perubahan tidak akan tersimpan. ",-1),Vo=o("p",{class:"text-sm text-base-content/60 mb-6"}," Apakah Anda yakin ingin membatalkan tanpa menyimpan perubahan? ",-1),Ko={class:"modal-action"};function Po(t,s,f,e,u,b){const k=g("Link"),v=g("AppLayout");return n(),j(v,{title:"Edit Pengguna"},{default:x(()=>[o("div",U,[o("div",D,[o("div",N,[o("div",T,[o("div",q,[z,o("button",{onClick:s[0]||(s[0]=(...a)=>e.handleBack&&e.handleBack(...a)),type:"button",class:"btn btn-outline"},[F,r(" Kembali ")])]),o("form",{onSubmit:s[7]||(s[7]=V((...a)=>e.submit&&e.submit(...a),["prevent"])),class:"space-y-6"},[o("div",R,[J,p(o("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>e.form.name=a),type:"text",placeholder:"Masukkan nama lengkap",class:_(["input input-bordered",{"input-error":e.form.errors.name}]),required:""},null,2),[[h,e.form.name]]),e.form.errors.name?(n(),l("div",O,[o("span",Y,d(e.form.errors.name),1)])):i("",!0)]),o("div",G,[H,p(o("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>e.form.email=a),type:"email",placeholder:"Masukkan email",class:_(["input input-bordered",{"input-error":e.form.errors.email}]),required:""},null,2),[[h,e.form.email]]),e.form.errors.email?(n(),l("div",I,[o("span",Q,d(e.form.errors.email),1)])):i("",!0)]),o("div",W,[X,p(o("select",{"onUpdate:modelValue":s[3]||(s[3]=a=>e.form.role=a),class:_(["select select-bordered",{"select-error":e.form.errors.role}]),required:""},to,2),[[K,e.form.role]]),e.form.errors.role?(n(),l("div",no,[o("span",ro,d(e.form.errors.role),1)])):i("",!0)]),lo,o("div",io,[co,p(o("input",{"onUpdate:modelValue":s[4]||(s[4]=a=>e.form.password=a),type:"password",placeholder:"Kosongkan jika tidak ingin mengubah password",class:_(["input input-bordered",{"input-error":e.form.errors.password}])},null,2),[[h,e.form.password]]),e.form.errors.password?(n(),l("div",mo,[o("span",po,d(e.form.errors.password),1)])):i("",!0)]),o("div",_o,[uo,p(o("input",{"onUpdate:modelValue":s[5]||(s[5]=a=>e.form.password_confirmation=a),type:"password",placeholder:"Konfirmasi password baru",class:_(["input input-bordered",{"input-error":e.form.errors.password_confirmation}])},null,2),[[h,e.form.password_confirmation]]),e.form.errors.password_confirmation?(n(),l("div",bo,[o("span",ho,d(e.form.errors.password_confirmation),1)])):i("",!0)]),o("div",fo,[o("button",{onClick:s[6]||(s[6]=(...a)=>e.handleCancel&&e.handleCancel(...a)),type:"button",class:"btn btn-outline"}," Batal "),o("button",{type:"submit",class:"btn btn-primary",disabled:e.form.processing},[e.form.processing?(n(),l("span",wo)):i("",!0),r(" "+d(e.form.processing?"Menyimpan...":"Simpan Perubahan"),1)],8,ko)])],32)])])])]),e.showBackModal?(n(),l("div",xo,[o("div",vo,[go,yo,Bo,o("div",Co,[o("button",{onClick:s[8]||(s[8]=a=>e.showBackModal=!1),class:"btn btn-outline"},"Tetap Edit"),y(k,{href:t.route("users.index"),class:"btn btn-error"},{default:x(()=>[r("Ya, Kembali")]),_:1},8,["href"])])])])):i("",!0),e.showCancelModal?(n(),l("div",Mo,[o("div",Ao,[Lo,jo,Vo,o("div",Ko,[o("button",{onClick:s[9]||(s[9]=a=>e.showCancelModal=!1),class:"btn btn-outline"},"Tetap Edit"),y(k,{href:t.route("users.index"),class:"btn btn-error"},{default:x(()=>[r("Ya, Batal")]),_:1},8,["href"])])])])):i("",!0)]),_:1})}const zo=E(S,[["render",Po]]);export{zo as default};
