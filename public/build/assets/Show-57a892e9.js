import{A as H,r as P,o as a,k as g,w as h,a as f,b as m,i as K,d as e,t as o,h as c,l as v,e as r,n as B,c as n,F as p,E as k,H as E}from"./app-807f60dc.js";import{A as q}from"./AppLayout-422bcc0a.js";import"./PhCurrencyCircleDollar.vue-370c4c60.js";import"./PhClock.vue-0bcaea51.js";import"./PhFlask.vue-b6585dea.js";import"./PhSignOut.vue-98dc8f64.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"py-12"},O={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},J={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 text-gray-900"},U={class:"flex justify-between items-center mb-6"},Y={class:"text-2xl font-semibold"},G={class:"flex space-x-2"},Q=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),X=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2 space-y-6"},se={class:"card bg-base-100 shadow-md"},te={class:"card-body"},ae=e("h3",{class:"card-title"},"Status Reservasi",-1),oe={class:"flex items-center justify-between"},ne={key:0,class:"dropdown dropdown-end"},ie=e("label",{tabindex:"0",class:"btn btn-sm btn-outline"},[c(" Ubah Status "),e("svg",{class:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1),le={tabindex:"0",class:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52"},re={key:0},de={key:1},ce={key:2},ue={key:3},he={class:"card bg-base-100 shadow-md"},me={class:"card-body"},ve=e("h3",{class:"card-title"},"Informasi Pasien",-1),_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Nama Lengkap")],-1),be={class:"text-lg"},pe=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Nomor Telepon")],-1),ke={class:"text-lg"},fe=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Email")],-1),ye={class:"text-lg"},xe=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Jenis Kelamin")],-1),we={class:"text-lg"},Ce={class:"md:col-span-2"},$e=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Alamat")],-1),je={class:"text-lg"},De={class:"card bg-base-100 shadow-md"},Be={class:"card-body"},Me=e("h3",{class:"card-title"},"Informasi Layanan",-1),Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Le=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Nama Layanan")],-1),ze={class:"text-lg"},Ae=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Harga")],-1),Te={class:"text-lg font-semibold text-primary"},Ie=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Durasi")],-1),Re={class:"text-lg"},Ne={class:"md:col-span-2"},Ve=e("label",{class:"label"},[e("span",{class:"label-text font-medium"},"Deskripsi")],-1),He={class:"text-sm text-gray-600"},Pe={key:0,class:"card bg-base-100 shadow-md"},Ke={class:"card-body"},Ee=e("h3",{class:"card-title"},"Catatan",-1),qe={class:"text-gray-700"},Fe={key:1,class:"card bg-base-100 shadow-md"},Oe={class:"card-body"},Je={class:"flex justify-between items-center mb-4"},We=e("h3",{class:"card-title"},"Rekam Medis",-1),Ue=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Ye={key:0,class:"space-y-4"},Ge={class:"flex justify-between items-start mb-3"},Qe={class:"font-medium text-gray-900"},Xe={class:"text-sm text-gray-500"},Ze=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),es={class:"space-y-2 text-sm"},ss=e("span",{class:"font-medium text-gray-700"},"Diagnosa:",-1),ts={class:"text-gray-600 mt-1"},as=e("span",{class:"font-medium text-gray-700"},"Tindakan:",-1),os={class:"text-gray-600 mt-1"},ns={key:0},is=e("span",{class:"font-medium text-gray-700"},"Catatan:",-1),ls={class:"text-gray-600 mt-1"},rs={key:1,class:"mt-3 pt-3 border-t border-gray-100"},ds={key:0,class:"mb-2"},cs=e("span",{class:"font-medium text-red-700"},"Alergi:",-1),us={class:"flex flex-wrap gap-1 mt-1"},hs={key:1},ms=e("span",{class:"font-medium text-blue-700"},"Obat:",-1),vs={class:"flex flex-wrap gap-1 mt-1"},_s=["title"],gs={key:2,class:"mt-3 pt-3 border-t border-gray-100"},bs=e("span",{class:"font-medium text-gray-700"},"Lampiran:",-1),ps={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2"},ks=["onClick"],fs=["src","alt"],ys=e("div",{class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})])],-1),xs=["onClick"],ws=e("svg",{class:"w-8 h-8 text-gray-500 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Cs={class:"text-xs text-gray-600 text-center leading-tight"},$s={class:"absolute top-1 left-1"},js={class:"absolute bottom-1 right-1"},Ds={class:"px-1 py-0.5 text-xs bg-black bg-opacity-50 text-white rounded"},Bs={key:1,class:"text-center py-8 text-gray-500"},Ms=e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Ss=e("p",null,"Belum ada rekam medis untuk reservasi ini",-1),Ls={class:"space-y-6"},zs={class:"card bg-primary text-primary-content shadow-md"},As={class:"card-body"},Ts=e("h3",{class:"card-title"},"Jadwal",-1),Is={class:"space-y-3"},Rs=e("div",{class:"text-sm opacity-70"},"Tanggal",-1),Ns={class:"text-xl font-bold"},Vs=e("div",{class:"text-sm opacity-70"},"Waktu",-1),Hs={class:"text-lg font-semibold"},Ps=e("div",{class:"text-sm opacity-70"},"Dokter/Terapis",-1),Ks={class:"text-lg font-semibold"},Es={class:"card bg-base-100 shadow-md"},qs={class:"card-body"},Fs=e("h3",{class:"card-title"},"Aksi Cepat",-1),Os={class:"space-y-2"},Js=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),Ws=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Us=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Ys=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),Gs={class:"card bg-base-100 shadow-md"},Qs={class:"card-body"},Xs=e("h3",{class:"card-title"},"Informasi Sistem",-1),Zs={class:"space-y-2 text-sm"},et=e("span",{class:"font-medium"},"Dibuat:",-1),st=e("br",null,null,-1),tt=e("span",{class:"font-medium"},"Diperbarui:",-1),at=e("br",null,null,-1),ot={key:0,class:"modal modal-open"},nt={class:"modal-box"},it=e("h3",{class:"font-bold text-lg"},"Konfirmasi Pembatalan",-1),lt=e("p",{class:"py-4"},"Apakah Anda yakin ingin membatalkan reservasi ini?",-1),rt={class:"modal-action"},gt={__name:"Show",props:{reservation:Object},setup(t){const M=t,S=H(),b=P(!1),u=s=>{E.patch(route("reservations.update",M.reservation.id),{status:s},{preserveState:!0,preserveScroll:!0})},L=()=>{b.value=!0},z=()=>{u("cancelled"),b.value=!1},y=s=>new Date(s).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),x=s=>new Date(`2000-01-01 ${s}`).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),w=s=>new Date(s).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(s),T=s=>({pending:"badge-warning",confirmed:"badge-info",completed:"badge-success",cancelled:"badge-error"})[s]||"badge-ghost",I=s=>({pending:"Pending",confirmed:"Dikonfirmasi",completed:"Selesai",cancelled:"Dibatalkan"})[s]||s,R=s=>{var i,_;const d=(_=(i=S.props.auth)==null?void 0:i.user)==null?void 0:_.role;return s.includes(d)},N=s=>({foto_sebelum:"Sebelum",foto_sesudah:"Sesudah",hasil_lab:"Lab",lainnya:"Lainnya"})[s]||s,C=s=>{window.open(s.file_url,"_blank")};return(s,d)=>(a(),g(q,null,{default:h(()=>[f(m(K),{title:"Detail Reservasi"}),e("div",F,[e("div",O,[e("div",J,[e("div",W,[e("div",U,[e("h2",Y,"Detail Reservasi #"+o(t.reservation.id),1),e("div",G,[f(m(v),{href:s.$page.props.auth.user.role==="dokter"?s.route("doctor.history"):s.route("reservations.index"),class:"btn btn-outline"},{default:h(()=>[Q,c(" Kembali ")]),_:1},8,["href"]),s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis"?(a(),g(m(v),{key:0,href:s.route("reservations.edit",t.reservation.id),class:"btn btn-warning"},{default:h(()=>[X,c(" Edit ")]),_:1},8,["href"])):r("",!0)])]),e("div",Z,[e("div",ee,[e("div",se,[e("div",te,[ae,e("div",oe,[e("div",{class:B(["badge text-lg py-3 px-4",T(t.reservation.status)])},o(I(t.reservation.status)),3),s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis"?(a(),n("div",ne,[ie,e("ul",le,[t.reservation.status!=="pending"?(a(),n("li",re,[e("a",{onClick:d[0]||(d[0]=i=>u("pending"))},"Pending")])):r("",!0),t.reservation.status!=="confirmed"?(a(),n("li",de,[e("a",{onClick:d[1]||(d[1]=i=>u("confirmed"))},"Konfirmasi")])):r("",!0),t.reservation.status!=="completed"?(a(),n("li",ce,[e("a",{onClick:d[2]||(d[2]=i=>u("completed"))},"Selesai")])):r("",!0),t.reservation.status!=="cancelled"?(a(),n("li",ue,[e("a",{onClick:d[3]||(d[3]=i=>u("cancelled"))},"Batalkan")])):r("",!0)])])):r("",!0)])])]),e("div",he,[e("div",me,[ve,e("div",_e,[e("div",null,[ge,e("div",be,o(t.reservation.patient.nama_lengkap),1)]),e("div",null,[pe,e("div",ke,o(t.reservation.patient.nomor_telepon),1)]),e("div",null,[fe,e("div",ye,o(t.reservation.patient.email||"-"),1)]),e("div",null,[xe,e("div",we,o(t.reservation.patient.jenis_kelamin),1)]),e("div",Ce,[$e,e("div",je,o(t.reservation.patient.alamat),1)])])])]),e("div",De,[e("div",Be,[Me,e("div",Se,[e("div",null,[Le,e("div",ze,o(t.reservation.service.nama_layanan),1)]),e("div",null,[Ae,e("div",Te,o(A(t.reservation.service.harga)),1)]),e("div",null,[Ie,e("div",Re,o(t.reservation.service.durasi_menit)+" menit",1)]),e("div",Ne,[Ve,e("div",He,o(t.reservation.service.deskripsi),1)])])])]),t.reservation.catatan?(a(),n("div",Pe,[e("div",Ke,[Ee,e("div",qe,o(t.reservation.catatan),1)])])):r("",!0),R(["admin","dokter"])?(a(),n("div",Fe,[e("div",Oe,[e("div",Je,[We,s.$page.props.auth.user.role==="dokter"&&(t.reservation.status==="confirmed"||t.reservation.status==="completed")?(a(),g(m(v),{key:0,href:s.route("medical-records.create",{reservation_id:t.reservation.id}),class:"btn btn-primary btn-sm"},{default:h(()=>[Ue,c(" Buat Rekam Medis ")]),_:1},8,["href"])):r("",!0)]),t.reservation.medical_records&&t.reservation.medical_records.length>0?(a(),n("div",Ye,[(a(!0),n(p,null,k(t.reservation.medical_records,i=>{var _,$,j,D;return a(),n("div",{key:i.id,class:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors"},[e("div",Ge,[e("div",null,[e("div",Qe,o(y(i.tanggal_pemeriksaan)),1),e("div",Xe,"Oleh: "+o(i.user.name),1)]),f(m(v),{href:s.route("medical-records.show",i.id),class:"btn btn-sm btn-outline"},{default:h(()=>[Ze,c(" Detail ")]),_:2},1032,["href"])]),e("div",es,[e("div",null,[ss,e("div",ts,o(i.diagnosa),1)]),e("div",null,[as,e("div",os,o(i.tindakan),1)]),i.catatan?(a(),n("div",ns,[is,e("div",ls,o(i.catatan),1)])):r("",!0),((_=i.allergies)==null?void 0:_.length)>0||(($=i.medications)==null?void 0:$.length)>0?(a(),n("div",rs,[((j=i.allergies)==null?void 0:j.length)>0?(a(),n("div",ds,[cs,e("div",us,[(a(!0),n(p,null,k(i.allergies,l=>(a(),n("span",{key:l.name,class:"inline-block px-2 py-1 text-xs bg-red-100 text-red-800 rounded"},o(l.name),1))),128))])])):r("",!0),((D=i.medications)==null?void 0:D.length)>0?(a(),n("div",hs,[ms,e("div",vs,[(a(!0),n(p,null,k(i.medications,l=>(a(),n("span",{key:l.name,class:"inline-block px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",title:`${l.dosage||""} ${l.frequency||""}`.trim()},o(l.name),9,_s))),128))])])):r("",!0)])):r("",!0),i.attachments&&i.attachments.length>0?(a(),n("div",gs,[bs,e("div",ps,[(a(!0),n(p,null,k(i.attachments,l=>(a(),n("div",{key:l.id,class:"relative group"},[l.mime_type.startsWith("image/")?(a(),n("div",{key:0,class:"aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity",onClick:V=>C(l)},[e("img",{src:l.file_url,alt:l.filename,class:"w-full h-full object-cover"},null,8,fs),ys],8,ks)):(a(),n("div",{key:1,class:"aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer hover:bg-gray-200 transition-colors flex flex-col items-center justify-center p-2",onClick:V=>C(l)},[ws,e("div",Cs,o(l.filename.length>15?l.filename.substring(0,12)+"...":l.filename),1)],8,xs)),e("div",$s,[e("span",{class:B(["px-1 py-0.5 text-xs rounded text-white text-shadow",{"bg-green-500":l.type==="foto_sebelum","bg-blue-500":l.type==="foto_sesudah","bg-purple-500":l.type==="hasil_lab","bg-gray-500":l.type==="lainnya"}])},o(N(l.type)),3)]),e("div",js,[e("span",Ds,o(l.human_readable_size),1)])]))),128))])])):r("",!0)])])}),128))])):(a(),n("div",Bs,[Ms,Ss,s.$page.props.auth.user.role==="dokter"&&(t.reservation.status==="confirmed"||t.reservation.status==="completed")?(a(),g(m(v),{key:0,href:s.route("medical-records.create",{reservation_id:t.reservation.id}),class:"btn btn-primary btn-sm mt-3"},{default:h(()=>[c(" Buat Rekam Medis Pertama ")]),_:1},8,["href"])):r("",!0)]))])])):r("",!0)]),e("div",Ls,[e("div",zs,[e("div",As,[Ts,e("div",Is,[e("div",null,[Rs,e("div",Ns,o(y(t.reservation.tanggal_reservasi)),1)]),e("div",null,[Vs,e("div",Hs,o(x(t.reservation.waktu_mulai))+" - "+o(x(t.reservation.waktu_selesai)),1)]),e("div",null,[Ps,e("div",Ks,o(t.reservation.user.name),1)])])])]),e("div",Es,[e("div",qs,[Fs,e("div",Os,[t.reservation.status==="pending"&&(s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis")?(a(),n("button",{key:0,onClick:d[4]||(d[4]=i=>u("confirmed")),class:"btn btn-success btn-block"},[Js,c(" Konfirmasi ")])):r("",!0),t.reservation.status==="confirmed"&&(s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis")?(a(),n("button",{key:1,onClick:d[5]||(d[5]=i=>u("completed")),class:"btn btn-info btn-block"},[Ws,c(" Selesai ")])):r("",!0),t.reservation.status!=="cancelled"&&t.reservation.status!=="completed"&&(s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis")?(a(),n("button",{key:2,onClick:L,class:"btn btn-error btn-block"},[Us,c(" Batalkan ")])):r("",!0),s.$page.props.auth.user.role==="admin"||s.$page.props.auth.user.role==="resepsionis"?(a(),g(m(v),{key:3,href:s.route("patients.show",t.reservation.patient.id),class:"btn btn-outline btn-block"},{default:h(()=>[Ys,c(" Lihat Pasien ")]),_:1},8,["href"])):r("",!0)])])]),e("div",Gs,[e("div",Qs,[Xs,e("div",Zs,[e("div",null,[et,st,c(o(w(t.reservation.created_at)),1)]),e("div",null,[tt,at,c(o(w(t.reservation.updated_at)),1)])])])])])])])])])]),b.value?(a(),n("div",ot,[e("div",nt,[it,lt,e("div",rt,[e("button",{onClick:d[6]||(d[6]=i=>b.value=!1),class:"btn"},"Tidak"),e("button",{onClick:z,class:"btn btn-error"},"Ya, Batalkan")])])])):r("",!0)]),_:1}))}};export{gt as default};
