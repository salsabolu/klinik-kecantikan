import{A as R,o as s,k as g,w as f,d as t,a as H,h as d,b,l as k,e as l,t as a,c as o,F as u,E as m,n as y,H as p}from"./app-807f60dc.js";import{A}from"./AppLayout-422bcc0a.js";import"./PhCurrencyCircleDollar.vue-370c4c60.js";import"./PhClock.vue-0bcaea51.js";import"./PhFlask.vue-b6585dea.js";import"./PhSignOut.vue-98dc8f64.js";import"./_plugin-vue_export-helper-c27b6911.js";const S={class:"space-y-6"},z={class:"flex items-center justify-between"},N=t("div",null,[t("h1",{class:"text-3xl font-serif font-bold text-clinic-green"},"Detail Data Pasien"),t("p",{class:"text-gray-600 mt-1 font-sans"},"Informasi lengkap pasien dan riwayat kunjungan")],-1),I={class:"flex gap-2"},F=t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),E=t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),O={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},K={class:"lg:col-span-1"},P={class:"card bg-white shadow-lg rounded-xl border border-gray-200"},$={class:"card-body bg-primary-bg"},Y=t("h2",{class:"card-title text-clinic-green font-serif"},[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),d(" Informasi Pribadi ")],-1),J={class:"space-y-4"},q=t("label",{class:"text-sm font-medium text-gray-600 font-sans"},"Nama Lengkap",-1),G={class:"text-clinic-green font-medium font-sans"},Q=t("label",{class:"text-sm font-medium text-gray-600 font-sans"},"Tanggal Lahir",-1),U={class:"text-clinic-green font-sans"},W=t("label",{class:"text-sm font-medium text-gray-600 font-sans"},"Jenis Kelamin",-1),X={class:"text-clinic-green font-sans"},Z=t("label",{class:"text-sm font-medium text-base-content/60"},"Nomor Telepon",-1),tt={class:"text-base-content"},et={key:0},st=t("label",{class:"text-sm font-medium text-base-content/60"},"Email",-1),at={class:"text-base-content"},nt=t("label",{class:"text-sm font-medium text-base-content/60"},"Alamat",-1),ot={class:"text-base-content"},it={key:1},ct=t("label",{class:"text-sm font-medium text-base-content/60"},"Status Akun",-1),lt=t("div",{class:"ml-2 badge badge-primary"},"Memiliki Akun Login",-1),dt=[ct,lt],rt={key:2},ht=t("label",{class:"text-sm font-medium text-base-content/60"},"Status Akun",-1),_t=t("div",{class:"badge badge-neutral"},"Belum Memiliki Akun",-1),ut=[ht,_t],mt=t("label",{class:"text-sm font-medium text-base-content/60"},"Terdaftar Sejak",-1),gt={class:"text-base-content"},bt={class:"lg:col-span-2 space-y-6"},kt={class:"card bg-base-100 shadow-xl"},vt={class:"card-body"},xt={class:"card-title text-primary"},ft=t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),yt={class:"badge badge-primary"},pt={key:0,class:"space-y-3"},wt=["onClick"],jt={class:"flex justify-between items-start"},Mt={class:"space-y-2"},Dt={class:"font-semibold"},Ct={class:"text-sm text-base-content/60"},Bt={class:"text-sm"},Tt={key:0,class:"text-sm italic"},Vt={class:"flex flex-col items-end space-y-2"},Lt=t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),Rt={key:0,class:"flex justify-center mt-4"},Ht={class:"join"},At={key:1,class:"text-center py-8 text-base-content/60"},St=t("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),zt=t("p",null,"Belum ada riwayat reservasi",-1),Nt=[St,zt],It={key:0,class:"card bg-base-100 shadow-xl"},Ft={class:"card-body"},Et={class:"card-title text-primary"},Ot=t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Kt={class:"badge badge-primary"},Pt={key:0,class:"space-y-3"},$t=["onClick"],Yt={class:"space-y-2"},Jt={class:"flex justify-between items-start"},qt={class:"font-semibold"},Gt={class:"flex items-center space-x-2"},Qt={class:"text-sm text-base-content/60"},Ut=t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),Wt={key:0,class:"text-sm"},Xt=t("strong",null,"Diagnosis:",-1),Zt={key:1,class:"text-sm"},te=t("strong",null,"Tindakan:",-1),ee={key:2,class:"text-sm"},se=t("strong",null,"Catatan:",-1),ae={key:3,class:"text-sm"},ne=t("strong",null,"Layanan:",-1),oe={key:0,class:"flex justify-center mt-4"},ie={class:"join"},ce={key:1,class:"text-center py-8 text-base-content/60"},le=t("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),de=t("p",null,"Belum ada rekam medis",-1),re=[le,de],he={key:1,class:"card bg-base-100 shadow-xl"},_e={class:"card-body"},ue={class:"card-title text-primary"},me=t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),ge={class:"badge badge-primary"},be={key:0,class:"space-y-3"},ke={class:"flex justify-between items-start"},ve={class:"space-y-2"},xe={class:"font-semibold"},fe={class:"text-sm text-base-content/60"},ye={class:"text-sm"},pe={class:"text-right"},we={class:"font-bold text-lg"},je={class:"badge badge-success"},Me={key:1,class:"text-center py-8 text-base-content/60"},De=t("svg",{class:"w-16 h-16 mx-auto mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1),Ce=t("p",null,"Belum ada riwayat transaksi",-1),Be=[De,Ce],ze={__name:"Show",props:{patient:Object,reservations:Object,medicalRecords:Object,transactions:Object},setup(n){const w=R(),M=i=>{w.props.auth.user.role==="dokter"?p.get(route("reservations.show.doctor",i)):p.get(route("reservations.show",i))},D=i=>{p.get(route("medical-records.show",i))},v=i=>new Date(i).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),j=i=>new Date(i).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=i=>{const h=new Date,r=new Date(i);let e=h.getFullYear()-r.getFullYear();const c=h.getMonth()-r.getMonth();return(c<0||c===0&&h.getDate()<r.getDate())&&e--,e},B=i=>new Intl.NumberFormat("id-ID").format(i),T=i=>({pending:"Menunggu",confirmed:"Dikonfirmasi",completed:"Selesai",cancelled:"Dibatalkan"})[i]||i,V=i=>({pending:"badge-warning",confirmed:"badge-info",completed:"badge-success",cancelled:"badge-error"})[i]||"badge-neutral",x=i=>{var r,e;const h=(e=(r=w.props.auth)==null?void 0:r.user)==null?void 0:e.role;return i.includes(h)};return(i,h)=>(s(),g(A,null,{default:f(()=>{var r;return[t("div",S,[t("div",z,[N,t("div",I,[H(b(k),{href:"/patients",class:"btn btn-outline font-sans"},{default:f(()=>[F,d(" Kembali ")]),_:1}),x(["admin","resepsionis"])?(s(),g(b(k),{key:0,href:`/patients/${n.patient.id}/edit`,class:"btn bg-clinic-yellow text-clinic-green border-clinic-yellow hover:bg-yellow-400 font-sans font-semibold"},{default:f(()=>[E,d(" Edit Data ")]),_:1},8,["href"])):l("",!0)])]),t("div",O,[t("div",K,[t("div",P,[t("div",$,[Y,t("div",J,[t("div",null,[q,t("p",G,a(n.patient.nama_lengkap),1)]),t("div",null,[Q,t("p",U,a(v(n.patient.tanggal_lahir))+" ("+a(C(n.patient.tanggal_lahir))+" tahun)",1)]),t("div",null,[W,t("p",X,a(n.patient.jenis_kelamin),1)]),t("div",null,[Z,t("p",tt,a(n.patient.nomor_telepon),1)]),n.patient.email?(s(),o("div",et,[st,t("p",at,a(n.patient.email),1)])):l("",!0),t("div",null,[nt,t("p",ot,a(n.patient.alamat),1)]),n.patient.user?(s(),o("div",it,dt)):(s(),o("div",rt,ut)),t("div",null,[mt,t("p",gt,a(j(n.patient.created_at)),1)])])])])]),t("div",bt,[t("div",kt,[t("div",vt,[t("h2",xt,[ft,d(" Riwayat Reservasi "),t("div",yt,a(n.reservations.total||0),1)]),n.reservations.data&&n.reservations.data.length>0?(s(),o("div",pt,[(s(!0),o(u,null,m(n.reservations.data,e=>{var c,_;return s(),o("div",{key:e.id,class:"p-4 border border-base-300 rounded-lg cursor-pointer hover:bg-base-200 transition-colors",onClick:L=>M(e.id)},[t("div",jt,[t("div",Mt,[t("h4",Dt,a(((c=e.service)==null?void 0:c.nama_layanan)||"Layanan Tidak Diketahui"),1),t("p",Ct,a(v(e.tanggal_reservasi))+" - "+a(e.waktu_reservasi),1),t("p",Bt,"Ditangani oleh: "+a(((_=e.user)==null?void 0:_.name)||"Tidak Diketahui"),1),e.catatan?(s(),o("p",Tt,"Catatan: "+a(e.catatan),1)):l("",!0)]),t("div",Vt,[t("div",{class:y(["badge",V(e.status)])},a(T(e.status)),3),Lt])])],8,wt)}),128)),n.reservations.last_page>1?(s(),o("div",Rt,[t("div",Ht,[(s(!0),o(u,null,m(n.reservations.links,(e,c)=>(s(),g(b(k),{key:c,href:e.url||"#",class:y(["join-item btn btn-sm",{"btn-active":e.active,"btn-disabled":!e.url}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):l("",!0)])):(s(),o("div",At,Nt))])]),x(["admin","dokter"])?(s(),o("div",It,[t("div",Ft,[t("h2",Et,[Ot,d(" Rekam Medis "),t("div",Kt,a(n.medicalRecords.total||0),1)]),n.medicalRecords.data&&n.medicalRecords.data.length>0?(s(),o("div",Pt,[(s(!0),o(u,null,m(n.medicalRecords.data,e=>{var c,_;return s(),o("div",{key:e.id,class:"p-4 border border-base-300 rounded-lg cursor-pointer hover:bg-base-200 transition-colors",onClick:L=>D(e.id)},[t("div",Yt,[t("div",Jt,[t("h4",qt,a(v(e.tanggal_pemeriksaan)),1),t("div",Gt,[t("p",Qt,a(((c=e.user)==null?void 0:c.name)||"Tidak Diketahui"),1),Ut])]),e.diagnosa?(s(),o("p",Wt,[Xt,d(" "+a(e.diagnosa),1)])):l("",!0),e.tindakan?(s(),o("p",Zt,[te,d(" "+a(e.tindakan),1)])):l("",!0),e.catatan?(s(),o("p",ee,[se,d(" "+a(e.catatan),1)])):l("",!0),e.reservation?(s(),o("p",ae,[ne,d(" "+a((_=e.reservation.service)==null?void 0:_.nama_layanan),1)])):l("",!0)])],8,$t)}),128)),n.medicalRecords.last_page>1?(s(),o("div",oe,[t("div",ie,[(s(!0),o(u,null,m(n.medicalRecords.links,(e,c)=>(s(),g(b(k),{key:c,href:e.url||"#",class:y(["join-item btn btn-sm",{"btn-active":e.active,"btn-disabled":!e.url}]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):l("",!0)])):(s(),o("div",ce,re))])])):l("",!0),x(["admin","resepsionis"])?(s(),o("div",he,[t("div",_e,[t("h2",ue,[me,d(" Riwayat Transaksi "),t("div",ge,a(((r=n.patient.transactions)==null?void 0:r.length)||0),1)]),n.patient.transactions&&n.patient.transactions.length>0?(s(),o("div",be,[(s(!0),o(u,null,m(n.patient.transactions,e=>{var c;return s(),o("div",{key:e.id,class:"p-4 border border-base-300 rounded-lg"},[t("div",ke,[t("div",ve,[t("h4",xe,"Transaksi #"+a(e.id),1),t("p",fe,a(j(e.created_at)),1),t("p",ye,"Kasir: "+a(((c=e.user)==null?void 0:c.name)||"Tidak Diketahui"),1)]),t("div",pe,[t("p",we,"Rp "+a(B(e.total_harga)),1),t("div",je,a(e.metode_pembayaran),1)])])])}),128))])):(s(),o("div",Me,Be))])])):l("",!0)])])])]}),_:1}))}};export{ze as default};
